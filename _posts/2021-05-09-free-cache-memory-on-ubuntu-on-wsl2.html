---
layout: post
title: Free Cache Memory on Ubuntu on WSL2
date: '2021-05-09 17:57:00 +00:00'
tags:
  - wsl
  - ubuntu
excerpt: >-
  On standalone Linux OS, this should never be a problem because the OS is smart
  enough to drop caches whenever other applications need it. However, on WSL,
  this may be a problem because the subsystem may not be directly notified if
  Windows apps need more memory. Hence, manual intervention is often needed.
notion_id: 59bfd32077bf455092221471455d3f26

---

<main class="notion light-mode notion-page">
  <div class="notion-viewport"></div>
  <div class="notion-text">On standalone Linux OS, this should never be a
    problem because the OS is smart enough to drop caches whenever other
    applications need it. However, on WSL, this may be a problem because the
    subsystem may not be directly notified if Windows apps need more memory.
    Hence, manual intervention is often needed.</div>
  <pre
    class="notion-code"><code class="language-Bash">sync &amp;&amp; echo 3 | sudo tee /proc/sys/vm/drop_caches</code></pre>
  <div class="notion-blank"> </div>
  <div class="notion-text">An alias on <code
      class="notion-inline-code">.zshrc</code> would come in handy.</div>
  <pre
    class="notion-code"><code class="language-Bash">alias freecachemem=&#x27;sync &amp;&amp; echo 3 | sudo tee /proc/sys/vm/drop_caches &gt; /dev/null&#x27;</code></pre>
  <div class="notion-blank"> </div>
  <div class="notion-text">Reference: <a target="_blank"
      rel="noopener noreferrer" class="notion-link"
      href="https://www.kernel.org/doc/Documentation/sysctl/vm.txt">https://www.kernel.org/doc/Documentation/sysctl/vm.txt</a>
  </div>
  <div class="notion-blank"> </div>
</main>