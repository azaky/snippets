---
layout: post
title: Nginx
date: '2021-05-06 20:04:00 +00:00'
tags:
  - nginx
  - webserver
excerpt: 'Cheatsheet: https://github.com/SimulatedGREG/nginx-cheatsheet'
notion_id: 92b573301bdc42c7b3271e733d2f2d5c

---

<main class="notion light-mode notion-page">
  <div class="notion-viewport"></div>
  <div class="notion-text">Cheatsheet: <a target="_blank"
      rel="noopener noreferrer" class="notion-link"
      href="https://github.com/SimulatedGREG/nginx-cheatsheet">https://github.com/SimulatedGREG/nginx-cheatsheet</a>
  </div>
  <div class="notion-blank"> </div>
  <div class="notion-text"><b>Proxy pass inside a path</b></div>
  <pre class="notion-code"><code class="language-Bash">server {
  # normal proxy_pass
  # serve url/uri to 127.0.0.1:8000/uri
  location / {
    proxy_pass http://127.0.0.1:8000/;
  }

  # proxy_pass inside a path
  # serve url/path/uri to 127.0.0.1:8000/uri
  location /path/ {
    # trailing / here is important!
    # it won&#x27;t work if you don&#x27;t include it!
    proxy_pass http://127.0.0.1:8000/;
  }
}</code></pre>
  <div class="notion-blank"> </div>
  <div class="notion-text"><b>Send nothing</b></div>
  <div class="notion-text">Preferrable method to handle unwanted locations other
    than 404, is <a target="_blank" rel="noopener noreferrer"
      class="notion-link" href="https://httpstatuses.com/444">status code
      444</a>.</div>
  <div class="notion-text">Note: under Cloudflare, this will be seen as 520 to
    end users.</div>
  <pre class="notion-code"><code class="language-Bash">server {
  location / {
    return 444;
  }
}</code></pre>
  <div class="notion-blank"> </div>
</main>